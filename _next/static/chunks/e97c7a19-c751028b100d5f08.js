"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{59205:function(e,t,r){r.d(t,{A:function(){return tv},C:function(){return eT},D:function(){return eg},E:function(){return em},I:function(){return ej},N:function(){return S},V:function(){return e2},_:function(){return ec},a:function(){return ev},b:function(){return eE},c:function(){return tE},d:function(){return function e(t){return function(t){if(function e(t){if(null==t||ew[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let o=null;try{o=t[r[n]]}catch(e){continue}if(!e(o))return!1}return!0}return eS.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>e(t)));if("object"==typeof t){let r={};for(let n in t){let o=t[n];void 0!==o&&Object.defineProperty(r,n,{enumerable:!0,value:e(o),writable:!1})}return r}return eS.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(t)}},e:function(){return tT},f:function(){return eM},g:function(){return ey},h:function(){return th},i:function(){return tm},j:function(){return q},k:function(){return tg},l:function(){return eZ},m:function(){return tk},n:function(){return eN},t:function(){return eF},v:function(){return tN}});var n,o,i,s,a,d,l,c,u,f,h,g,v,y,E,m,T,N,p,A,_,O,k,R,I,b,C,S,P,w,M,F,D,U,B,L,G,K,x,j,W,H,q,$,V,z,Y,Q,X,J,Z,ee,et,er,en,eo,ei=r(61744),es=r(16441),ea=r(2593),ed=r(34359),el=r.n(ed);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ec(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{d(n.next(e))}catch(e){i(e)}}function a(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})}function eu(e){return this instanceof eu?(this.v=e,this):new eu(e)}function ef(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=o[e](t)).value instanceof eu?Promise.resolve(r.value.v).then(d,l):c(i[0][2],r)}catch(e){c(i[0][3],e)}}function d(e){a("next",e)}function l(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function eh(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,o,(t=e[r](t)).done,t.value)})}}}(n=S||(S={})).ETH_MAINNET="eth-mainnet",n.ETH_ROPSTEN="eth-ropsten",n.ETH_GOERLI="eth-goerli",n.ETH_KOVAN="eth-kovan",n.ETH_RINKEBY="eth-rinkeby",n.ETH_SEPOLIA="eth-sepolia",n.OPT_MAINNET="opt-mainnet",n.OPT_KOVAN="opt-kovan",n.OPT_GOERLI="opt-goerli",n.ARB_MAINNET="arb-mainnet",n.ARB_RINKEBY="arb-rinkeby",n.ARB_GOERLI="arb-goerli",n.MATIC_MAINNET="polygon-mainnet",n.MATIC_MUMBAI="polygon-mumbai",n.ASTAR_MAINNET="astar-mainnet",n.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",n.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",(o=P||(P={})).DEFAULT_TOKENS="DEFAULT_TOKENS",o.ERC20="erc20",(i=w||(w={})).EXTERNAL="external",i.INTERNAL="internal",i.ERC20="erc20",i.ERC721="erc721",i.ERC1155="erc1155",i.SPECIALNFT="specialnft",(s=M||(M={})).ASCENDING="asc",s.DESCENDING="desc",(a=F||(F={})).ERC721="ERC721",a.ERC1155="ERC1155",a.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",a.NOT_A_CONTRACT="NOT_A_CONTRACT",a.UNKNOWN="UNKNOWN",(d=D||(D={})).Erc721TooManyOwners="Erc721TooManyOwners",d.Erc721TooManyTokens="Erc721TooManyTokens",d.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",d.MostlyHoneyPotOwners="MostlyHoneyPotOwners",d.OwnedByMostHoneyPots="OwnedByMostHoneyPots",(l=U||(U={})).SPAM="SPAM",l.AIRDROPS="AIRDROPS",(c=B||(B={})).SPAM="SPAM",c.AIRDROPS="AIRDROPS",(L||(L={})).TRANSFERTIME="TRANSFERTIME",(u=G||(G={})).TO="TO",u.FROM="FROM",(f=K||(K={})).ASCENDING="asc",f.DESCENDING="desc",(h=x||(x={})).SEAPORT="seaport",h.LOOKSRARE="looksrare",h.X2Y2="x2y2",h.WYVERN="wyvern",h.CRYPTOPUNKS="cryptopunks",h.BLUR="blur",h.UNKNOWN="unknown",(g=j||(j={})).BUYER="buyer",g.SELLER="seller",(v=W||(W={})).DOES_NOT_EXIST="does_not_exist",v.ALREADY_QUEUED="already_queued",v.IN_PROGRESS="in_progress",v.FINISHED="finished",v.QUEUED="queued",v.QUEUE_FAILED="queue_failed",(y=H||(H={})).VERIFIED="verified",y.APPROVED="approved",y.REQUESTED="requested",y.NOT_REQUESTED="not_requested",(E=q||(q={})).PENDING_TRANSACTIONS="alchemy_pendingTransactions",E.MINED_TRANSACTIONS="alchemy_minedTransactions",(m=$||($={})).NATIVE="NATIVE",m.ERC20="ERC20",m.ERC721="ERC721",m.ERC1155="ERC1155",m.SPECIAL_NFT="SPECIAL_NFT",(T=V||(V={})).APPROVE="APPROVE",T.TRANSFER="TRANSFER",(z||(z={})).ETHERSCAN="ETHERSCAN",(N=Y||(Y={})).CREATE="CREATE",N.CALL="CALL",N.STATICCALL="STATICCALL",N.DELEGATECALL="DELEGATECALL",(p=Q||(Q={})).UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",p.IN_PROGRESS="IN_PROGRESS",p.COMPLETE="COMPLETE",p.ABANDONED="ABANDONED",(A=X||(X={})).V1="V1",A.V2="V2",(_=J||(J={})).MINED_TRANSACTION="MINED_TRANSACTION",_.DROPPED_TRANSACTION="DROPPED_TRANSACTION",_.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",_.NFT_ACTIVITY="NFT_ACTIVITY",_.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",_.GRAPHQL="GRAPHQL",(O=Z||(Z={})).PENDING="pending",O.LATEST="latest",O.SAFE="safe",O.FINALIZED="finalized",O.EARLIEST="earliest",(k=ee||(ee={})).CALL_TRACER="callTracer",k.PRESTATE_TRACER="prestateTracer";let eg="demo",ev=S.ETH_MAINNET;function ey(e,t){return`https://${e}.g.alchemy.com/v2/${t}`}function eE(e,t){return`wss://${e}.g.alchemy.com/v2/${t}`}(R=et||(et={}))[R.BASE=0]="BASE",R[R.NFT=1]="NFT",R[R.WEBHOOK=2]="WEBHOOK";let em={[S.ETH_MAINNET]:"mainnet",[S.ETH_ROPSTEN]:"ropsten",[S.ETH_GOERLI]:"goerli",[S.ETH_KOVAN]:"kovan",[S.ETH_RINKEBY]:"rinkeby",[S.ETH_SEPOLIA]:"sepolia",[S.OPT_MAINNET]:"optimism",[S.OPT_KOVAN]:"optimism-kovan",[S.OPT_GOERLI]:"optimism-goerli",[S.ARB_MAINNET]:"arbitrum",[S.ARB_RINKEBY]:"arbitrum-rinkeby",[S.ARB_GOERLI]:"arbitrum-goerli",[S.MATIC_MAINNET]:"matic",[S.MATIC_MUMBAI]:"maticmum",[S.ASTAR_MAINNET]:"astar-mainnet",[S.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[S.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet"},eT={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"}};function eN(){}class ep{constructor(e){this.apiKey=(null==e?void 0:e.apiKey)||eg,this.network=(null==e?void 0:e.network)||ev,this.maxRetries=(null==e?void 0:e.maxRetries)||5,this.url=null==e?void 0:e.url,this.authToken=null==e?void 0:e.authToken,this.batchRequests=(null==e?void 0:e.batchRequests)||!1,this.requestTimeout=(null==e?void 0:e.requestTimeout)||0}_getRequestUrl(e){return void 0!==this.url?this.url:e===et.NFT?`https://${this.network}.g.alchemy.com/nft/v2/${this.apiKey}`:e===et.WEBHOOK?"https://dashboard.alchemy.com/api":ey(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=ec(this,void 0,void 0,function*(){let{AlchemyProvider:e}=yield r.e(577).then(r.bind(r,55577));return new e(this)})),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=ec(this,void 0,void 0,function*(){let{AlchemyWebSocketProvider:e}=yield r.e(541).then(r.bind(r,50541));return new e(this)})),this._baseAlchemyWssProvider}}let eA=!1,e_=!1,eO={debug:1,default:2,info:2,warning:3,error:4,off:5},ek=eO.default,eR=null,eI=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(I=er||(er={})).DEBUG="DEBUG",I.INFO="INFO",I.WARNING="WARNING",I.ERROR="ERROR",I.OFF="OFF",(b=en||(en={})).UNKNOWN_ERROR="UNKNOWN_ERROR",b.NOT_IMPLEMENTED="NOT_IMPLEMENTED",b.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",b.NETWORK_ERROR="NETWORK_ERROR",b.SERVER_ERROR="SERVER_ERROR",b.TIMEOUT="TIMEOUT",b.BUFFER_OVERRUN="BUFFER_OVERRUN",b.NUMERIC_FAULT="NUMERIC_FAULT",b.MISSING_NEW="MISSING_NEW",b.INVALID_ARGUMENT="INVALID_ARGUMENT",b.MISSING_ARGUMENT="MISSING_ARGUMENT",b.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",b.CALL_EXCEPTION="CALL_EXCEPTION",b.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",b.NONCE_EXPIRED="NONCE_EXPIRED",b.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",b.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",b.TRANSACTION_REPLACED="TRANSACTION_REPLACED",b.ACTION_REJECTED="ACTION_REJECTED";let eb="0123456789abcdef";class eC{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==eO[r]&&this.throwArgumentError("invalid log level name","logLevel",e),ek>eO[r]||console.log.apply(console,t)}debug(...e){this._log(eC.levels.DEBUG,e)}info(...e){this._log(eC.levels.INFO,e)}warn(...e){this._log(eC.levels.WARNING,e)}makeError(e,t,r){if(e_)return this.makeError("censored error",t,{});t||(t=eC.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=eb[t[e]>>4]+eb[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let o=e,i="";switch(t){case en.NUMERIC_FAULT:{i="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":i+="-"+t;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case en.CALL_EXCEPTION:case en.INSUFFICIENT_FUNDS:case en.MISSING_NEW:case en.NONCE_EXPIRED:case en.REPLACEMENT_UNDERPRICED:case en.TRANSACTION_REPLACED:case en.UNPREDICTABLE_GAS_LIMIT:i=t}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=o,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,eC.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){eI&&this.throwError("platform missing String.prototype.normalize",eC.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:eI})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,eC.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,eC.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,eC.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,eC.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",eC.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",eC.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",eC.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return eR||(eR=new eC("logger/5.7.0")),eR}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",eC.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),eA){if(!e)return;this.globalLogger().throwError("error censorship permanent",eC.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}e_=!!e,eA=!!t}static setLogLevel(e){let t=eO[e.toLowerCase()];if(null==t){eC.globalLogger().warn("invalid log level - "+e);return}ek=t}static from(e){return new eC(e)}}eC.errors=en,eC.levels=er;let eS=new eC("properties/5.7.0");function eP(e){var t,r,n,o;return t=this,r=void 0,n=void 0,o=function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function a(e){try{d(o.throw(e))}catch(e){i(e)}}function d(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}d((o=o.apply(t,r||[])).next())})}let ew={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function eM(e){return ea.O$.from(e).toNumber()}function eF(e){return ea.O$.from(e).toHexString()}function eD(e){return"string"==typeof e?e:Number.isInteger(e)?eF(e):e.toString()}function eU(e){return{address:e.address,name:e.contractMetadata.name,symbol:e.contractMetadata.symbol,totalSupply:e.contractMetadata.totalSupply,tokenType:eG(e.contractMetadata.tokenType),openSea:ex(e.contractMetadata.openSea),contractDeployer:e.contractMetadata.contractDeployer,deployedBlockNumber:e.contractMetadata.deployedBlockNumber}}function eB(e,t){var r;return{contract:t?{address:t}:e.contract,tokenId:ea.O$.from(e.id.tokenId).toString(),tokenType:eG(null===(r=e.id.tokenMetadata)||void 0===r?void 0:r.tokenType)}}function eL(e){var t,r,n,o,i,s,a,d,l,c;try{let u=eG(null===(t=e.id.tokenMetadata)||void 0===t?void 0:t.tokenType),f=function(e){if(!e)return;let{isSpam:t,classifications:r}=e;return{isSpam:"true"===t,classifications:r}}(e.spamInfo);return{contract:{address:e.contract.address,name:null===(r=e.contractMetadata)||void 0===r?void 0:r.name,symbol:null===(n=e.contractMetadata)||void 0===n?void 0:n.symbol,totalSupply:null===(o=e.contractMetadata)||void 0===o?void 0:o.totalSupply,tokenType:u,openSea:ex(null===(i=e.contractMetadata)||void 0===i?void 0:i.openSea),contractDeployer:null===(s=e.contractMetadata)||void 0===s?void 0:s.contractDeployer,deployedBlockNumber:null===(a=e.contractMetadata)||void 0===a?void 0:a.deployedBlockNumber},tokenId:(d=e.id.tokenId,ea.O$.from(d).toString()),tokenType:u,title:e.title,description:(l=e.description,void 0===l?"":Array.isArray(l)||"object"!=typeof l?"string"==typeof l?l:l.join(" "):JSON.stringify(l)),timeLastUpdated:e.timeLastUpdated,metadataError:e.error,rawMetadata:e.metadata,tokenUri:eK(e.tokenUri),media:(c=e.media,void 0===c?[]:c.filter(e=>void 0!==eK(e))),spamInfo:f,acquiredAt:e.acquiredAt}}catch(e){throw Error("Error parsing the NFT response: "+e)}}function eG(e){switch(e){case"erc721":case"ERC721":return F.ERC721;case"erc1155":case"ERC1155":return F.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return F.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return F.NOT_A_CONTRACT;default:return F.UNKNOWN}}function eK(e){if(!e||0!==e.raw.length||0!=e.gateway.length)return e}function ex(e){var t;if(void 0!==e)return{floorPrice:e.floorPrice,collectionName:e.collectionName,safelistRequestStatus:void 0!==e.safelistRequestStatus?(t=e.safelistRequestStatus,Object.values(H).includes(t)?t:void 0):void 0,imageUrl:e.imageUrl,description:e.description,externalUrl:e.externalUrl,twitterUsername:e.twitterUsername,discordUrl:e.discordUrl,lastIngestedAt:e.lastIngestedAt}}let ej="undefined"!=typeof window&&null!==window;function eW(e){if(null!==e){if("object"==typeof e)for(let t in e)e[t]=eW(e[t]);return e}}function eH(e,t,r="getAssetTransfers"){return ec(this,void 0,void 0,function*(){let n=yield e.getProvider();return t.fromAddress&&(t.fromAddress=yield n._getAddress(t.fromAddress)),t.toAddress&&(t.toAddress=yield n._getAddress(t.toAddress)),n._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},t),{fromBlock:null!=t.fromBlock?eD(t.fromBlock):void 0,toBlock:null!=t.toBlock?eD(t.toBlock):void 0,maxCount:null!=t.maxCount?eF(t.maxCount):void 0})],r)})}function eq(e,t,r="getTransactionReceipts"){return ec(this,void 0,void 0,function*(){let n=yield e.getProvider();return n._send("alchemy_getTransactionReceipts",[t],r)})}class e${constructor(e){this.config=e}getBalance(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.getBalance(e,t)})}getCode(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.getCode(e,t)})}getStorageAt(e,t,r){return ec(this,void 0,void 0,function*(){let n=yield this.config.getProvider();return n.getStorageAt(e,t,r)})}getTransactionCount(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.getTransactionCount(e,t)})}getBlock(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getBlock(e)})}getBlockWithTransactions(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getBlockWithTransactions(e)})}getNetwork(){return ec(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.getNetwork()})}getBlockNumber(){return ec(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.getBlockNumber()})}getGasPrice(){return ec(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.getGasPrice()})}getFeeData(){return ec(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.getFeeData()})}ready(){return ec(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.ready})}call(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.call(e,t)})}estimateGas(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.estimateGas(e)})}getTransaction(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getTransaction(e)})}getTransactionReceipt(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getTransactionReceipt(e)})}sendTransaction(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.sendTransaction(e)})}waitForTransaction(e,t,r){return ec(this,void 0,void 0,function*(){let n=yield this.config.getProvider();return n.waitForTransaction(e,t,r)})}getLogs(e){return ec(this,void 0,void 0,function*(){return function(e,t){return ec(this,void 0,void 0,function*(){var r;let n=yield e.getProvider();yield n.getNetwork();let o=yield eP({filter:function(e,t){return ec(this,void 0,void 0,function*(){let r=yield e.getProvider(),n=yield t,o={};return["blockHash","topics"].forEach(e=>{null!=n[e]&&(o[e]=n[e])}),["fromBlock","toBlock"].forEach(e=>{null!=n[e]&&(o[e]=r._getBlockTag(n[e]))}),o=r.formatter.filter((yield eP(o))),Array.isArray(n.address)?o.address=yield Promise.all(n.address.map(e=>ec(this,void 0,void 0,function*(){return r._getAddress(e)}))):null!=n.address&&(o.address=yield r._getAddress(n.address)),o})}(e,t)}),i=yield n.send("eth_getLogs",[o.filter]);return i.forEach(e=>{null==e.removed&&(e.removed=!1)}),(r=n.formatter.filterLog.bind(n.formatter),function(e){if(!Array.isArray(e))throw Error("not an array");let t=[];return e.forEach(e=>{t.push(r(e))}),t})(i)})}(this.config,e)})}send(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.send(e,t)})}findContractDeployer(e){var t;return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r.getBlockNumber();if((yield r.getCode(e,n))==="0x")throw Error(`Contract '${e}' does not exist`);let o=yield function e(t,r,n,o){return ec(this,void 0,void 0,function*(){if(t>=r)return r;let i=Math.floor((t+r)/2),s=yield o.getProvider(),a=yield s.getCode(n,i);return"0x"===a?e(i+1,r,n,o):e(t,i,n,o)})}(0,n+1,e,this.config),i=yield eq(this.config,{blockNumber:eF(o)},"findContractDeployer"),s=null===(t=i.receipts)||void 0===t?void 0:t.find(t=>t.contractAddress===e.toLowerCase());return{deployerAddress:null==s?void 0:s.from,blockNumber:o}})}getTokenBalances(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r._getAddress(e);if(Array.isArray(t)){if(t.length>1500)throw Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(0===t.length)throw Error("getTokenBalances() requires at least one contractAddress when using an array");return r._send("alchemy_getTokenBalances",[n,t],"getTokenBalances")}{let e=void 0===t?P.ERC20:t.type,o=[n,e];return(null==t?void 0:t.type)===P.ERC20&&t.pageKey&&o.push({pageKey:t.pageKey}),r._send("alchemy_getTokenBalances",o,"getTokenBalances")}})}getTokensForOwner(e,t){var r;return ec(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),o=yield n._getAddress(e),i=[o,null!==(r=null==t?void 0:t.contractAddresses)&&void 0!==r?r:P.ERC20];(null==t?void 0:t.pageKey)&&i.push({pageKey:t.pageKey});let s=yield n._send("alchemy_getTokenBalances",i,"getTokensForOwner"),a=s.tokenBalances.map(e=>({contractAddress:e.contractAddress,rawBalance:ea.O$.from(e.tokenBalance).toString()})),d=yield Promise.allSettled(s.tokenBalances.map(e=>n._send("alchemy_getTokenMetadata",[e.contractAddress],"getTokensForOwner",!0))),l=d.map(e=>"fulfilled"===e.status?e.value:{name:null,symbol:null,decimals:null,logo:null}),c=a.map((e,t)=>Object.assign(Object.assign(Object.assign({},e),l[t]),{balance:null!==l[t].decimals?(0,ei.formatUnits)(e.rawBalance,l[t].decimals):void 0}));return{tokens:c.map(eW),pageKey:s.pageKey}})}getTokenMetadata(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return ec(this,void 0,void 0,function*(){return eH(this.config,e)})}getTransactionReceipts(e){return ec(this,void 0,void 0,function*(){return eq(this.config,e)})}resolveName(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.resolveName(e)})}lookupAddress(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.lookupAddress(e)})}}class eV{constructor(e){this.config=e}traceCall(e,t,r){return ec(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),o=[e,t,ez(r)];return n._send("debug_traceCall",o,"traceCall")})}traceTransaction(e,t,r){return ec(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),o=[e,ez(t,r)];return n._send("debug_traceTransaction",o,"traceTransaction")})}traceBlock(e,t){return ec(this,void 0,void 0,function*(){let r,n;let o=yield this.config.getProvider();if((0,es.isHexString)(e,32))r="debug_traceBlockByHash",n=[e,ez(t)];else{r="debug_traceBlockByNumber";let o="number"==typeof e?(0,es.hexStripZeros)((0,es.hexValue)(e)):e;n=[o,ez(t)]}return o._send(r,n,"traceBlock")})}}function ez(e,t){return Object.assign({tracer:e.type},void 0!==e.onlyTopCall&&{tracerConfig:{onlyTopCall:e.onlyTopCall,timeout:t}})}(C=eo||(eo={}))[C.DEBUG=0]="DEBUG",C[C.INFO=1]="INFO",C[C.WARN=2]="WARN",C[C.ERROR=3]="ERROR",C[C.SILENT=4]="SILENT",eo.DEBUG,eo.INFO,eo.WARN,eo.ERROR,eo.SILENT;let eY={[eo.DEBUG]:"log",[eo.INFO]:"info",[eo.WARN]:"warn",[eo.ERROR]:"error"},eQ=eo.INFO;function eX(e,...t){e1.debug(e,t)}function eJ(e,...t){e1.info(e,t)}function eZ(e,...t){e1.warn(e,t)}function e0(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}let e1=new class{constructor(){this._logLevel=eQ}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in eo))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(eo.DEBUG,...e)}info(...e){this._log(eo.INFO,...e)}warn(...e){this._log(eo.WARN,...e)}error(...e){this._log(eo.ERROR,...e)}_log(e,...t){if(e<this._logLevel)return;let r=new Date().toISOString(),n=eY[e];if(n)console[n](`[${r}] Alchemy:`,...t.map(e0));else throw Error(`Logger received an invalid logLevel (value: ${e})`)}},e2="2.9.0";class e5{constructor(e=5){this.maxAttempts=e,this.initialDelayMs=1e3,this.backoffMultiplier=1.5,this.maxDelayMs=3e4,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(Error("A backoff operation is already in progress"));let e=this.withJitterMs(this.currentDelayMs);return e>0&&eX("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(t=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,t()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function e7(e,t,r,n,o,i){return ec(this,void 0,void 0,function*(){let s;let a=new e5(e.maxRetries);for(let d=0;d<e.maxRetries+1;d++)try{void 0!==s&&eJ("requestHttp",`Retrying after error: ${s.message}`);try{yield a.backoff()}catch(e){break}let d=yield function(e,t,r,n,o){var i;let s=Object.assign(Object.assign({},o),{headers:Object.assign(Object.assign(Object.assign({},null==o?void 0:o.headers),!ej&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":e2,"Alchemy-Ethers-Sdk-Method":r}),method:null!==(i=null==o?void 0:o.method)&&void 0!==i?i:"GET",url:e+"/"+t,params:n});return el()(s)}(e._getRequestUrl(t),r,n,o,Object.assign(Object.assign({},i),{timeout:e.requestTimeout}));if(200===d.status)return eX(r,`Successful request: ${r}`),d.data;eJ(r,`Request failed: ${r}, ${d.status}, ${d.data}`),s=Error(d.status+": "+d.data)}catch(e){if(!el().isAxiosError(e)||void 0===e.response)throw e;if(s=Error(e.response.status+": "+e.response.data),!function(e,t){let r=t===et.WEBHOOK?[429,500]:[429];return void 0!==e.response&&r.includes(e.response.status)}(e,t))break}return Promise.reject(s)})}function e4(e,t,r,n,o,i,s){return ef(this,arguments,function*(){let a=!0,d=Object.assign({},s);for(;a;){let s=yield eu(e7(e,t,r,n,d));yield yield eu(s),void 0!==s[i]?d[o]=s[i]:a=!1}})}function e3(e,t,r,n,o="getNftMetadata"){return ec(this,void 0,void 0,function*(){let i=yield e7(e,et.NFT,"getNFTMetadata",o,{contractAddress:t,tokenId:ea.O$.from(r).toString(),tokenType:function(e){if(e===F.ERC1155||e===F.ERC721)return e}(null==n?void 0:n.tokenType),tokenUriTimeoutInMs:null==n?void 0:n.tokenUriTimeoutInMs,refreshCache:null==n?void 0:n.refreshCache});return eL(i)})}function e9(e,t,r){return ec(this,void 0,void 0,function*(){let n={tokens:t,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs,refreshCache:null==r?void 0:r.refreshCache},o=yield e7(e,et.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:n});return o.map(eL)})}function e6(e,t,r,n="getNftsForOwner"){return ec(this,void 0,void 0,function*(){let o=to(null==r?void 0:r.omitMetadata),i=yield e7(e,et.NFT,"getNFTs",n,{contractAddresses:null==r?void 0:r.contractAddresses,pageKey:null==r?void 0:r.pageKey,filters:null==r?void 0:r.excludeFilters,excludeFilters:null==r?void 0:r.excludeFilters,includeFilters:null==r?void 0:r.includeFilters,owner:t,pageSize:null==r?void 0:r.pageSize,withMetadata:o,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs,orderBy:null==r?void 0:r.orderBy});return{ownedNfts:i.ownedNfts.map(e=>Object.assign(Object.assign({},te(e)),{balance:parseInt(e.balance)})),pageKey:i.pageKey,totalCount:i.totalCount,blockHash:i.blockHash}})}function e8(e){switch(e){case F.ERC721:return[w.ERC721];case F.ERC1155:return[w.ERC1155];default:return[w.ERC721,w.ERC1155,w.SPECIALNFT]}}function te(e){return tr(e)?eL(e):eB(e)}function tt(e,t){return tr(e)?eL(e):eB(e,t)}function tr(e){return void 0!==e.title}function tn(e,t){return ec(this,void 0,void 0,function*(){let r=t.transfers.filter(e=>null!==e.rawContract.address).flatMap(e=>{var t,r;let n=(r=e).category!==w.ERC1155?[{contractAddress:r.rawContract.address,tokenId:r.tokenId,tokenType:r.category===w.ERC721?F.ERC721:void 0}]:r.erc1155Metadata.map(e=>({contractAddress:r.rawContract.address,tokenId:e.tokenId,tokenType:F.ERC1155})),o={from:e.from,to:null!==(t=e.to)&&void 0!==t?t:void 0,transactionHash:e.hash,blockNumber:e.blockNum};return n.map(e=>({metadata:o,token:e}))});if(0===r.length)return{nfts:[]};let n=[];for(let e=0;e<r.length;e+=100)n.push(r.slice(e,e+100));let o=yield Promise.all(n.map(t=>e9(e,t.map(e=>e.token)))),i=o.flat(),s=new Map;i.forEach(e=>{let t=`${e.contract.address}-${ea.O$.from(e.tokenId).toString()}`;s.set(t,e)});let a=r.map(e=>{let t=`${e.token.contractAddress}-${ea.O$.from(e.token.tokenId).toString()}`;return Object.assign(Object.assign({},s.get(t)),e.metadata)});return{nfts:a,pageKey:t.pageKey}})}function to(e){return void 0===e||!e}class ti{constructor(e){this.config=e}getNftMetadata(e,t,r,n){let o;return o="object"==typeof r?{tokenType:r.tokenType,tokenUriTimeoutInMs:r.tokenUriTimeoutInMs,refreshCache:r.refreshCache}:{tokenType:r,tokenUriTimeoutInMs:n},e3(this.config,e,t,o)}getNftMetadataBatch(e,t){return e9(this.config,e,t)}getContractMetadata(e){return function(e,t,r="getContractMetadata"){return ec(this,void 0,void 0,function*(){let n=yield e7(e,et.NFT,"getContractMetadata",r,{contractAddress:t});return eU(n)})}(this.config,e)}getContractMetadataBatch(e){return function(e,t){return ec(this,void 0,void 0,function*(){let r=yield e7(e,et.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:t}});return r.map(eU)})}(this.config,e)}getNftsForOwnerIterator(e,t){return function(e,t,r,n="getNftsForOwnerIterator"){return ef(this,arguments,function*(){var o,i;let s=to(null==r?void 0:r.omitMetadata);try{for(var a,d=eh(e4(e,et.NFT,"getNFTs",n,"pageKey","pageKey",{contractAddresses:null==r?void 0:r.contractAddresses,pageKey:null==r?void 0:r.pageKey,filters:null==r?void 0:r.excludeFilters,owner:t,withMetadata:s}));!(a=yield eu(d.next())).done;){let e=a.value;for(let t of e.ownedNfts)yield yield eu(Object.assign(Object.assign({},te(t)),{balance:parseInt(t.balance)}))}}catch(e){o={error:e}}finally{try{a&&!a.done&&(i=d.return)&&(yield eu(i.call(d)))}finally{if(o)throw o.error}}})}(this.config,e,t)}getNftsForOwner(e,t){return e6(this.config,e,t)}getNftsForContract(e,t){return function(e,t,r,n="getNftsForContract"){var o;return ec(this,void 0,void 0,function*(){let i=to(null==r?void 0:r.omitMetadata),s=yield e7(e,et.NFT,"getNFTsForCollection",n,{contractAddress:t,startToken:null==r?void 0:r.pageKey,withMetadata:i,limit:null!==(o=null==r?void 0:r.pageSize)&&void 0!==o?o:void 0,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs});return{nfts:s.nfts.map(e=>tt(e,t)),pageKey:s.nextToken}})}(this.config,e,t)}getNftsForContractIterator(e,t){return function(e,t,r,n="getNftsForContractIterator"){return ef(this,arguments,function*(){var o,i;let s=to(null==r?void 0:r.omitMetadata);try{for(var a,d=eh(e4(e,et.NFT,"getNFTsForCollection",n,"startToken","nextToken",{contractAddress:t,startToken:null==r?void 0:r.pageKey,withMetadata:s}));!(a=yield eu(d.next())).done;){let e=a.value;for(let r of e.nfts)yield yield eu(tt(r,t))}}catch(e){o={error:e}}finally{try{a&&!a.done&&(i=d.return)&&(yield eu(i.call(d)))}finally{if(o)throw o.error}}})}(this.config,e,t)}getOwnersForContract(e,t){return function(e,t,r,n="getOwnersForContract"){return ec(this,void 0,void 0,function*(){let o=yield e7(e,et.NFT,"getOwnersForCollection",n,Object.assign(Object.assign({},r),{contractAddress:t}));return Object.assign({owners:o.ownerAddresses},void 0!==o.pageKey&&{pageKey:o.pageKey})})}(this.config,e,t)}getOwnersForNft(e,t,r){return function(e,t,r,n,o="getOwnersForNft"){return ec(this,void 0,void 0,function*(){return e7(e,et.NFT,"getOwnersForToken",o,Object.assign({contractAddress:t,tokenId:ea.O$.from(r).toString()},n))})}(this.config,e,t,r)}getContractsForOwner(e,t){return function(e,t,r,n="getContractsForOwner"){return ec(this,void 0,void 0,function*(){let o=yield e7(e,et.NFT,"getContractsForOwner",n,{owner:t,excludeFilters:null==r?void 0:r.excludeFilters,includeFilters:null==r?void 0:r.includeFilters,pageKey:null==r?void 0:r.pageKey,pageSize:null==r?void 0:r.pageSize,orderBy:null==r?void 0:r.orderBy});return{pageKey:null==o?void 0:o.pageKey,totalCount:o.totalCount,contracts:o.contracts.map(e=>({address:e.address,totalSupply:e.totalSupply,isSpam:e.isSpam,media:e.media,numDistinctTokensOwned:e.numDistinctTokensOwned,tokenId:e.tokenId,totalBalance:e.totalBalance,name:e.name,title:e.title,openSea:ex(null==e?void 0:e.opensea),symbol:null==e?void 0:e.symbol,tokenType:eG(null==e?void 0:e.tokenType),contractDeployer:e.contractDeployer,deployedBlockNumber:e.deployedBlockNumber}))}})}(this.config,e,t)}getTransfersForOwner(e,t,r){return function(e,t,r,n){return ec(this,void 0,void 0,function*(){let o=yield e.getProvider(),i=yield o._getAddress(t),s=e8(null==n?void 0:n.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:null==n?void 0:n.contractAddresses,category:s,maxCount:100,pageKey:null==n?void 0:n.pageKey};r===G.TO?a.toAddress=i:a.fromAddress=i;let d=yield eH(e,a,"getTransfersForOwner");return tn(e,d)})}(this.config,e,t,r)}getTransfersForContract(e,t){return function(e,t,r){return ec(this,void 0,void 0,function*(){let n=[w.ERC721,w.ERC1155,w.SPECIALNFT],o=yield e.getProvider(),i=(null==r?void 0:r.fromBlock)?o.formatter.blockTag((yield o._getBlockTag(r.fromBlock))):"0x0",s=(null==r?void 0:r.toBlock)?o.formatter.blockTag((yield o._getBlockTag(r.toBlock))):void 0,a={fromBlock:i,toBlock:s,excludeZeroValue:!0,contractAddresses:[t],order:null==r?void 0:r.order,category:n,maxCount:100,pageKey:null==r?void 0:r.pageKey},d=yield eH(e,a,"getTransfersForContract");return tn(e,d)})}(this.config,e,t)}getMintedNfts(e,t){return ec(this,void 0,void 0,function*(){return function(e,t,r){return ec(this,void 0,void 0,function*(){let n=yield e.getProvider(),o=yield n._getAddress(t),i=e8(null==r?void 0:r.tokenType),s={fromBlock:"0x0",fromAddress:"0x0000000000000000000000000000000000000000",toAddress:o,excludeZeroValue:!0,contractAddresses:null==r?void 0:r.contractAddresses,category:i,maxCount:100,pageKey:null==r?void 0:r.pageKey},a=yield eH(e,s,"getMintedNfts");return tn(e,a)})}(this.config,e,t)})}checkNftOwnership(e,t){return function(e,t,r,n="checkNftOwnership"){return ec(this,void 0,void 0,function*(){if(0===r.length)throw Error("Must provide at least one contract address");let o=yield e6(e,t,{contractAddresses:r,omitMetadata:!0},n);return o.ownedNfts.length>0})}(this.config,e,t)}verifyNftOwnership(e,t){return function(e,t,r,n="verifyNftOwnership"){return ec(this,void 0,void 0,function*(){if("string"==typeof r){let o=yield e6(e,t,{contractAddresses:[r],omitMetadata:!0},n);return o.ownedNfts.length>0}{if(0===r.length)throw Error("Must provide at least one contract address");let o=yield e6(e,t,{contractAddresses:r,omitMetadata:!0},n),i=r.reduce((e,t)=>(e[t]=!1,e),{});for(let e of o.ownedNfts)i[e.contract.address]=!0;return i}})}(this.config,e,t)}isSpamContract(e){return function(e,t,r="isSpamContract"){return ec(this,void 0,void 0,function*(){return e7(e,et.NFT,"isSpamContract",r,{contractAddress:t})})}(this.config,e)}getSpamContracts(){return function(e,t="getSpamContracts"){return ec(this,void 0,void 0,function*(){return e7(e,et.NFT,"getSpamContracts",t,void 0)})}(this.config)}getFloorPrice(e){return function(e,t,r="getFloorPrice"){return ec(this,void 0,void 0,function*(){return e7(e,et.NFT,"getFloorPrice",r,{contractAddress:t})})}(this.config,e)}getNftSales(e){return function(e,t={},r="getNftSales"){return ec(this,void 0,void 0,function*(){var n,o;let i=Object.assign({},t),s=yield e7(e,et.NFT,"getNFTSales",r,{fromBlock:null==i?void 0:i.fromBlock,toBlock:null==i?void 0:i.toBlock,order:null==i?void 0:i.order,marketplace:null==i?void 0:i.marketplace,contractAddress:null==i?void 0:i.contractAddress,tokenId:(null==i?void 0:i.tokenId)?ea.O$.from(null==i?void 0:i.tokenId).toString():void 0,sellerAddress:null==i?void 0:i.sellerAddress,buyerAddress:null==i?void 0:i.buyerAddress,taker:null==i?void 0:i.taker,limit:null==i?void 0:i.limit,pageKey:null==i?void 0:i.pageKey});return{nftSales:s.nftSales.map(e=>({marketplace:function(e){switch(e){case"looksrare":return x.LOOKSRARE;case"seaport":return x.SEAPORT;case"x2y2":return x.X2Y2;case"wyvern":return x.WYVERN;case"cryptopunks":return x.CRYPTOPUNKS;case"blur":return x.BLUR;default:return x.UNKNOWN}}(e.marketplace),contractAddress:e.contractAddress,tokenId:e.tokenId,quantity:e.quantity,buyerAddress:e.buyerAddress,sellerAddress:e.sellerAddress,taker:function(e){switch(e.toLowerCase()){case"buyer":return j.BUYER;case"seller":return j.SELLER;default:throw Error(`Unsupported NftSaleTakerType ${e}`)}}(e.taker),sellerFee:null==e?void 0:e.sellerFee,marketplaceFee:null==e?void 0:e.protocolFee,protocolFee:null==e?void 0:e.protocolFee,royaltyFee:null==e?void 0:e.royaltyFee,blockNumber:null==e?void 0:e.blockNumber,logIndex:e.logIndex,bundleIndex:e.bundleIndex,transactionHash:e.transactionHash})),validAt:{blockNumber:s.validAt.blockNumber,blockHash:null!==(n=s.validAt.blockHash)&&void 0!==n?n:void 0,blockTimestamp:null!==(o=s.validAt.blockTimestamp)&&void 0!==o?o:void 0},pageKey:null==s?void 0:s.pageKey}})}(this.config,e)}computeRarity(e,t){return function(e,t,r,n="computeRarity"){return ec(this,void 0,void 0,function*(){let o=yield e7(e,et.NFT,"computeRarity",n,{contractAddress:t,tokenId:ea.O$.from(r).toString()});return o.map(({prevalence:e,trait_type:t,value:r})=>({prevalence:e,traitType:t,value:r}))})}(this.config,e,t)}searchContractMetadata(e){return function(e,t,r="searchContractMetadata"){return ec(this,void 0,void 0,function*(){let n=yield e7(e,et.NFT,"searchContractMetadata",r,{query:t});return n.map(eU)})}(this.config,e)}summarizeNftAttributes(e){return function(e,t,r="summarizeNftAttributes"){return ec(this,void 0,void 0,function*(){return e7(e,et.NFT,"summarizeNftAttributes",r,{contractAddress:t})})}(this.config,e)}refreshNftMetadata(e,t){return function(e,t,r,n="refreshNftMetadata"){return ec(this,void 0,void 0,function*(){let o=ea.O$.from(r).toString(),i=yield e3(e,t,o,void 0,n),s=yield function(e,t,r,n){return ec(this,void 0,void 0,function*(){let o=yield e7(e,et.NFT,"getNFTMetadata",n,{contractAddress:t,tokenId:ea.O$.from(r).toString(),refreshCache:!0});return eL(o)})}(e,t,o,n);return i.timeLastUpdated!==s.timeLastUpdated})}(this.config,e,t)}refreshContract(e){return function(e,t,r="refreshContract"){return ec(this,void 0,void 0,function*(){let n=yield e7(e,et.NFT,"reingestContract",r,{contractAddress:t});return{contractAddress:n.contractAddress,refreshState:function(e){switch(e){case"does_not_exist":return W.DOES_NOT_EXIST;case"already_queued":return W.ALREADY_QUEUED;case"in_progress":return W.IN_PROGRESS;case"finished":return W.FINISHED;case"queued":return W.QUEUED;case"queue_failed":return W.QUEUE_FAILED;default:throw Error("Unknown reingestion state: "+e)}}(n.reingestionState),progress:n.progress}})}(this.config,e)}}class ts{constructor(e){this.config=e}getAllWebhooks(){return ec(this,void 0,void 0,function*(){this.verifyConfig();let e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:e.data.map(tl),totalCount:e.data.length}})}getAddresses(e,t){return ec(this,void 0,void 0,function*(){this.verifyConfig();let r="string"==typeof e?e:e.id,n=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:r,limit:null==t?void 0:t.limit,after:null==t?void 0:t.pageKey});return{addresses:n.data,totalCount:n.pagination.total_count,pageKey:n.pagination.cursors.after}})}getGraphqlQuery(e){return ec(this,void 0,void 0,function*(){this.verifyConfig();let t="string"==typeof e?e:e.id,r=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:t});return{graphqlQuery:r.data.graphql_query}})}getNftFilters(e,t){return ec(this,void 0,void 0,function*(){this.verifyConfig();let r="string"==typeof e?e:e.id,n=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:r,limit:null==t?void 0:t.limit,after:null==t?void 0:t.pageKey});return{filters:n.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:ea.O$.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:n.pagination.total_count,pageKey:n.pagination.cursors.after}})}updateWebhook(e,t){return ec(this,void 0,void 0,function*(){let r,n,o,i;let s="string"==typeof e?e:e.id;if("isActive"in t)r="update-webhook",n="updateWebhook",o="PUT",i={webhook_id:s,is_active:t.isActive};else if("addFilters"in t||"removeFilters"in t)r="update-webhook-nft-filters",n="updateWebhookNftFilters",o="PATCH",i={webhook_id:s,nft_filters_to_add:t.addFilters?t.addFilters.map(tc):[],nft_filters_to_remove:t.removeFilters?t.removeFilters.map(tc):[]};else if("addMetadataFilters"in t||"removeMetadataFilters"in t)r="update-webhook-nft-metadata-filters",n="updateWebhookNftMetadataFilters",o="PATCH",i={webhook_id:s,nft_metadata_filters_to_add:t.addMetadataFilters?t.addMetadataFilters.map(tc):[],nft_metadata_filters_to_remove:t.removeMetadataFilters?t.removeMetadataFilters.map(tc):[]};else if("addAddresses"in t||"removeAddresses"in t)r="update-webhook-addresses",n="webhook:updateWebhookAddresses",o="PATCH",i={webhook_id:s,addresses_to_add:yield this.resolveAddresses(t.addAddresses),addresses_to_remove:yield this.resolveAddresses(t.removeAddresses)};else if("newAddresses"in t)r="update-webhook-addresses",n="webhook:updateWebhookAddress",o="PUT",i={webhook_id:s,addresses:yield this.resolveAddresses(t.newAddresses)};else throw Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(r,n,{},{method:o,data:i})})}createWebhook(e,t,r){return ec(this,void 0,void 0,function*(){let n,o,i,s;if(t===J.MINED_TRANSACTION||t===J.DROPPED_TRANSACTION){if(!("appId"in r))throw Error("Transaction Webhooks require an app id.");n=r.appId}let a=td.get(this.config.network);if(t===J.NFT_ACTIVITY||t===J.NFT_METADATA_UPDATE){if(!("filters"in r)||0===r.filters.length)throw Error("Nft Activity Webhooks require a non-empty array input.");a=r.network?td.get(r.network):a;let e=r.filters.map(e=>e.tokenId?{contract_address:e.contractAddress,token_id:ea.O$.from(e.tokenId).toString()}:{contract_address:e.contractAddress});o=t===J.NFT_ACTIVITY?{nft_filters:e}:{nft_metadata_filters:e}}else if(t===J.ADDRESS_ACTIVITY){if(void 0===r||!("addresses"in r)||0===r.addresses.length)throw Error("Address Activity Webhooks require a non-empty array input.");a=r.network?td.get(r.network):a,i=yield this.resolveAddresses(r.addresses)}else if(t==J.GRAPHQL){if(void 0===r||!("graphqlQuery"in r)||0===r.graphqlQuery.length)throw Error("Custom Webhooks require a non-empty graphql query.");a=r.network?td.get(r.network):a,s=r.graphqlQuery}let d=Object.assign(Object.assign(Object.assign(Object.assign({network:a,webhook_type:t,webhook_url:e},n&&{app_id:n}),o),i&&{addresses:i}),s&&{graphql_query:s}),l=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:d});return tl(l.data)})}deleteWebhook(e){return ec(this,void 0,void 0,function*(){this.verifyConfig();let t="string"==typeof e?e:e.id,r=yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:t},{method:"DELETE"});if("message"in r)throw Error(`Webhook not found. Failed to delete webhook: ${t}`)})}verifyConfig(){if(void 0===this.config.authToken)throw Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,t,r,n){return e7(this.config,et.WEBHOOK,e,t,r,Object.assign(Object.assign({},n),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},null==n?void 0:n.headers)}))}resolveAddresses(e){return ec(this,void 0,void 0,function*(){if(void 0===e)return[];let t=[],r=yield this.config.getProvider();for(let n of e){let e=yield r.resolveName(n);if(null===e)throw Error(`Unable to resolve the ENS address: ${n}`);t.push(e)}return t})}}let ta={ETH_MAINNET:S.ETH_MAINNET,ETH_GOERLI:S.ETH_GOERLI,ETH_SEPOLIA:S.ETH_SEPOLIA,ETH_ROPSTEN:S.ETH_ROPSTEN,ETH_RINKEBY:S.ETH_RINKEBY,ETH_KOVAN:S.ETH_KOVAN,MATIC_MAINNET:S.MATIC_MAINNET,MATIC_MUMBAI:S.MATIC_MUMBAI,ARB_MAINNET:S.ARB_MAINNET,ARB_GOERLI:S.ARB_GOERLI,ARB_RINKEBY:S.ARB_RINKEBY,OPT_MAINNET:S.OPT_MAINNET,OPT_GOERLI:S.OPT_GOERLI,OPT_KOVAN:S.OPT_KOVAN},td=Object.keys(S).reduce((e,t)=>(t in ta&&e.set(ta[t],t),e),new Map);function tl(e){return Object.assign({id:e.id,network:ta[e.network],type:e.webhook_type,url:e.webhook_url,isActive:e.is_active,timeCreated:new Date(e.time_created).toISOString(),signingKey:e.signing_key,version:e.version},void 0!==e.app_id&&{appId:e.app_id})}function tc(e){return e.tokenId?{contract_address:e.contractAddress,token_id:ea.O$.from(e.tokenId).toString()}:{contract_address:e.contractAddress}}let tu=[.9,1,1.1,1.2,1.3];class tf{constructor(e){this.config=e}sendPrivateTransaction(e,t,r){return ec(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),o=t?eF(t):void 0;return n._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:o,preferences:r}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r._send("alchemy_simulateAssetChangesBundle",void 0!==t?[e,t]:[e],"simulateAssetChangesBundle");return eW(n)})}simulateAssetChanges(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r._send("alchemy_simulateAssetChanges",void 0!==t?[e,t]:[e],"simulateAssetChanges");return eW(n)})}simulateExecutionBundle(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=r._send("alchemy_simulateExecutionBundle",void 0!==t?[e,t]:[e],"simulateExecutionBundle");return eW(n)})}simulateExecution(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=r._send("alchemy_simulateExecution",void 0!==t?[e,t]:[e],"simulateExecution");return eW(n)})}getTransaction(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getTransaction(e)})}sendTransaction(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.sendTransaction(e)})}estimateGas(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.estimateGas(e)})}getMaxPriorityFeePerGas(){return ec(this,void 0,void 0,function*(){let e=yield this.config.getProvider(),t=yield e._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return eM(t)})}waitForTransaction(e,t,r){return ec(this,void 0,void 0,function*(){let n=yield this.config.getProvider();return n.waitForTransaction(e,t,r)})}sendGasOptimizedTransaction(e,t){return ec(this,void 0,void 0,function*(){var r,n,o;let i,s,a;if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let d=yield this.config.getProvider();try{i=yield this.estimateGas(e),s=yield this.getMaxPriorityFeePerGas();let t=yield d.getBlock("latest");a=t.baseFeePerGas.toNumber()}catch(e){throw Error(`Failed to estimate gas for transaction: ${e}`)}let l=(r=i.toNumber(),n=a,o=s,tu.map(t=>Object.assign(Object.assign({},e),{gasLimit:r,maxFeePerGas:Math.round(n*t+o*t),maxPriorityFeePerGas:Math.round(t*o)}))),c=yield Promise.all(l.map(e=>t.signTransaction(e)));return this._sendGasOptimizedTransaction(c,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],t)})}}let th="alchemy-pending-transactions",tg="alchemy-mined-transactions",tv=[th,tg];class ty{constructor(e,t,r){this.listener=t,this.tag=e,this.once=r,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");if("tx"!==e[0])throw Error("Not a transaction event");return e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])throw Error("Not a transaction event");let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),o={};return n.length>0&&(o.topics=n),r&&"*"!==r&&(o.address=r),o}pollable(){return this.tag.indexOf(":")>=0||["block","network","pending","poll"].indexOf(this.tag)>=0}}class tE extends ty{get fromAddress(){let e=this.tag.split(":");return e[0]!==th?void 0:e[1]&&"*"!==e[1]?t_(e[1]):void 0}get toAddress(){let e=this.tag.split(":");return e[0]!==th?void 0:e[2]&&"*"!==e[2]?t_(e[2]):void 0}get hashesOnly(){let e=this.tag.split(":");return tv.includes(e[0])&&e[3]&&"*"!==e[3]?"true"===e[3]:void 0}get includeRemoved(){let e=this.tag.split(":");return e[0]!==tg?void 0:e[2]&&"*"!==e[2]?"true"===e[2]:void 0}get addresses(){let e=this.tag.split(":");return e[0]!==tg?void 0:e[1]&&"*"!==e[1]?function(e){if(""!==e)return e.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},"*"!==e[0]&&{to:e[0]}),"*"!==e[1]&&{from:e[1]}))}(e[1]):void 0}}function tm(e){return"object"==typeof e&&"method"in e}function tT(e){if(!tm(e))throw Error("Event tag requires AlchemyEventType");if(e.method===q.PENDING_TRANSACTIONS)return function(e){let t=tp(e.fromAddress),r=tp(e.toAddress),n=tA(e.hashesOnly);return th+":"+t+":"+r+":"+n}(e);if(e.method===q.MINED_TRANSACTIONS)return function(e){var t;let r=void 0===(t=e.addresses)?"*":t.map(e=>tp(e.to)+","+tp(e.from)).join("|"),n=tA(e.includeRemoved),o=tA(e.hashesOnly);return tg+":"+r+":"+n+":"+o}(e);throw Error(`Unrecognized AlchemyFilterEvent: ${e}`)}function tN(e){if(!Object.values(q).includes(e.method))throw Error(`Invalid method name ${e.method}. Accepted method names: ${Object.values(q)}`)}function tp(e){return void 0===e?"*":Array.isArray(e)?e.join("|"):e}function tA(e){return void 0===e?"*":e.toString()}function t_(e){if(""===e)return;let t=e.split("|");return 1===t.length?t[0]:t}class tO{constructor(e){this.config=e}on(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);r.on(n,t)}),this}once(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);r.once(n,t)}),this}off(e,t){return ec(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);return r.off(n,t)}),this}removeAllListeners(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;t.removeAllListeners(r)}),this}listenerCount(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return t.listenerCount(r)})}listeners(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return t.listeners(r)})}_resolveEnsAlchemyEvent(e){return ec(this,void 0,void 0,function*(){if(!tm(e))return e;if(e.method===q.MINED_TRANSACTIONS&&e.addresses){let t=[];for(let r of e.addresses)r.to&&(r.to=yield this._resolveNameOrError(r.to)),r.from&&(r.from=yield this._resolveNameOrError(r.from)),t.push(r);e.addresses=t}else e.method===q.PENDING_TRANSACTIONS&&(e.fromAddress&&("string"==typeof e.fromAddress?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(e=>this._resolveNameOrError(e)))),e.toAddress&&("string"==typeof e.toAddress?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(e=>this._resolveNameOrError(e)))));return e})}_resolveNameOrError(e){return ec(this,void 0,void 0,function*(){let t=yield this.config.getProvider(),r=yield t.resolveName(e);if(null===r)throw Error(`Unable to resolve the ENS address: ${e}`);return r})}}class tk{constructor(e){this.config=new ep(e),this.core=new e$(this.config),this.nft=new ti(this.config),this.ws=new tO(this.config),this.transact=new tf(this.config),this.notify=new ts(this.config),this.debug=new eV(this.config)}}}}]);